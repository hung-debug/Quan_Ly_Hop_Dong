<!-- form step 1 -->
<div class="container-infor-contract-batch">
  <div class="row">
    <div class="col-md-8" style="padding-right: 8px;">
      <div class="form-group">
        <div class="label-text">{{'contract-template.name' | translate}} <span class="require_star">*</span></div>
        <div>
          <p-dropdown panelStyleClass="font" [options]="typeListForm" [(ngModel)]="idContractTemplate" 
            optionLabel="name" optionValue="id" placeholder="{{'choose.template.contract' | translate}}" [filter]="true" filterBy="name"
            (onChange)="onChangeForm($event, true)">
          </p-dropdown>
        </div>
      </div>
      <div class="form-group">
        <div class="invalid" *ngIf="errorContractName">
          {{errorContractName | translate}}
        </div>
      </div>
    </div>

    <!--Đẩy file tài liệu lên BCT-->
    <div class="col-md-4" *ngIf=" environment.flag == 'NB' ? true : this.ceca" style="padding-left: 8px;">
      <div class="form-group">
        <div class="label-text">{{'contract-type.ceca' | translate}}</div>
          <p-dropdown panelStyleClass="font" [options]="optionsCeCa" [(ngModel)]="optionsCeCaValue" optionLabel="name"
            optionValue="id" [showClear]="true">
          </p-dropdown>
      </div>
    </div>
  </div>

  <div class="row mt-16px">
    <div class="col-md-12">
      <div class="form-group ">
        <!-- <div class="label-text">{{'file.document' | translate}} <span class="require_star">*</span></div> -->
        <input id="file-input" type="file" accept=".xls,.xlsx"
              (change)="fileChanged($event)" style="display: none;"/>
        <div class="file-contract hover-item" (click)="addFile()">
          <img src="assets/img/vscode-icons_file-type-excel2.png" alt="mobifone.contract">
          <div>
            <!-- <span style="color: #286CF5" *ngIf="!this.datasBatch.file_name">{{'choose.document.file.excel' | translate }}
            </span>{{this.datasBatch.file_name}} -->

            <span class="drag-contract" *ngIf="!this.datasBatch.file_name">{{'drag.contract.file' | translate }} 
              <span style="color: #286CF5">{{'drag.contract.here' | translate }}</span>
              <br/>
              <span class="note-drag-contract">{{'drag.contract.theo_lo' | translate }}</span>
            </span>

            <span class="drag-contract" *ngIf="this.datasBatch.file_name">
              {{this.datasBatch.file_name}}
            </span>
          </div>
          <div *ngIf="errorDetail && errorDetail.length > 0">
            <span style="color: red;">Dữ liệu không hợp lệ. Tổng số {{errorDetail.length}} lỗi</span>
          </div>
          <div>
            <div *ngFor="let item of errorDetail; let i = index">
              <span style="color: red;">{{item}}</span>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="invalid" *ngIf="errorContractFile">
          {{errorContractFile | translate}}
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-16px">
    <div class="col-md-12">
      <div class="form-group">
        <div class="label-text">
          {{'not.have.sample.file' | translate}} <a style="color: #106DB6; cursor: pointer;" (click)="downFileExample()">{{'download.sample.file' | translate}}</a>
        </div>  
      </div>
    </div>
  </div>
</div>
  
<div class="footer-infor-contract">
  <div>
    <button (click)="next()" type="button" name="next" class="next action-button pull-right">{{'btn.next' | translate }}</button>
  </div>
</div>

<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-spin-clockwise">
    <p style="font-size: 18px; color: white">{{'sys.processing' | translate}}...</p>
</ngx-spinner>
  
  
  
