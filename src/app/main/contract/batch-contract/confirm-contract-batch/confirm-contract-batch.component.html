<!--<link rel="stylesheet" href="sample-contract.component.scss">-->
<div class="sample-contract row" *ngIf="loaded" style="margin: 32px 0px 0px 0px !important;">
  <!--  information contract-->
  <div class="col-md-3 sample-contract__information cancel-padding" style="background-color: white; padding-left: 24px !important; padding-right: 24px !important;">
    <div class="sample-contract__information--drag" id="width-element-info">
      <div class="label-text">{{'contract.number.lot' | translate}}</div>
      <div style="text-align: center; margin-top: 12px;">
        <img *ngIf="!isDisablePrevious" src="/assets/img/arrow-left-1.png" style="width: 24px;" (click)="previousPage()"/>
        <img *ngIf="isDisablePrevious" src="/assets/img/arrow-left.png" style="width: 24px;"/>
        <div style="display: inline-block;">
          <input type="text" [(ngModel)]="pageNumberCurrent" style="margin: 0px 4px 0px 8px; width: 32px; text-align: center; border-radius: 3px; border: 1px solid #286CF5;"
            (keypress)="numberOnly($event)" (change)="typingPage($event)"
          /> / <div style="display: inline-block; margin: 0px 8px 0px 4px">{{pageNumberTotal}}</div>
        </div>          
        <img *ngIf="!isDisableNext" src="/assets/img/arrow-right.png" style="width: 24px;" (click)="nextPage()"/>
        <img *ngIf="isDisableNext" src="/assets/img/arrow-right1.png" style="width: 24px;"/>
      </div>
    </div>

    <hr style="margin: 25px 0px;">

    <div style="max-height: calc(100vh - 400px);height: calc(100vh - 400px); overflow: hidden auto; position: relative; margin-top: 32px">
      <div>
        <div class="label-text">
          {{'information.signatures' | translate}}
        </div>
        <div class="mt-12px">
          <div class="to_chuc">
            {{'to_chuc_cua_toi' | translate}}
          </div>
          <div class="background-item">
            <div *ngIf="this.is_origanzation_reviewer.length > 0" class="padding-item">
              <div class="label_item">{{'user.view' | translate}}</div>
              <div class="mt-6px">
                <div *ngFor="let item of this.is_origanzation_reviewer">
                  <div class="flex">
                    <div class="item-name">{{item.name}}</div>
                    <div class="item-email">({{item.email}})</div>
                  </div>
                </div>
              </div>
            </div>
            <!-- <hr *ngIf="this.is_origanzation_reviewer.length > 0" style="margin: 10px 12px 0px 12px;"> -->
            <div *ngIf="this.is_origanzation_signature.length > 0" class="padding-item">
              <div class="label_item">{{'user.sign' | translate}}</div>
              <div class="mt-6px">
                <div *ngFor="let item of this.is_origanzation_signature">
                  <div class="flex">
                    <div class="item-name">{{item.name}}</div>
                    <div class="item-email">({{item.email}})</div>
                  </div>
                </div>
              </div>
            </div>

            <div *ngIf="this.is_origanzation_document.length > 0" class="padding-item">
              <div class="label_item">{{'user.doc' | translate}}</div>
              <div class="mt-6px">
                <div *ngFor="let item of this.is_origanzation_document">
                  <div class="flex">
                    <div class="item-name">{{item.name}}</div>
                    <div class="item-email">({{item.email}})</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="mt-12px">
          <div *ngFor="let record of this.data_parnter_organization; let i=index">
            <div class="to_chuc">
              {{record.type != 3 ? record.name : record.recipients[0].name}}
            </div>

            <div class="background-item">
              <div *ngIf="this.getPartnerCoordinationer(record).length > 0" class="padding-item">
                <div class="label_item">{{'user.lead' | translate}}</div>
                <div class="mt-6px">
                  <div *ngFor="let item of getPartnerCoordinationer(record)">
                    <div class="flex">
                      <div class="item-name">{{item.name}}</div>
                      <div class="item-email">({{item.email}})</div>
                    </div>
                  </div>
                </div>
              </div>

              <div *ngIf="this.getPartnerReviewer(record).length > 0" class="padding-item">
                <div class="label_item">{{'user.view' | translate}}</div>
                <div class="mt-6px">
                  <div *ngFor="let item of getPartnerReviewer(record)">
                    <div class="flex">
                      <div class="item-name">{{item.name}}</div>
                      <div class="item-email">({{item.email}})</div>
                    </div>
                  </div>
                </div>
              </div>

              <div *ngIf="this.getPartnerSignature(record).length > 0" class="padding-item">
                <div class="label_item">{{'user.sign' | translate}}</div>
                <div class="mt-6px">
                  <div *ngFor="let item of getPartnerSignature(record)">
                    <div class="flex">
                      <div class="item-name">{{item.name}}</div>
                      <div class="item-email">({{item.email}})</div>
                    </div>
                  </div>
                </div>
              </div>
              
              <div *ngIf="this.getPartnerDocument(record).length > 0" class="padding-item">
                <div class="label_item">{{'user.doc' | translate}}</div>
                <div class="mt-6px">
                  <div *ngFor="let item of getPartnerDocument(record)">
                    <div class="flex">
                      <div class="item-name">{{item.name}}</div>
                      <div class="item-email">({{item.email}})</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>              
          </div>
        </div>
      </div>
    </div>
  </div>

  <!--  file content-->
  <!--  width: 74.7%-->
  
  <div class="col-md-9">
    <div style="height: 48px; background-color: #EBF2FB; display: flex; justify-content: center;">
      <div style="margin: auto 0 auto">
          <button class="call-page input1" (click)="firstPage()">
              <img  width="16px" height="16px" *ngIf="!this.page1" src="assets/img/First.png">
              <img  width="16px" height="16px" *ngIf="this.page1" src="assets/img/First.png">
          </button>
          <button style="margin: 0px 8px;" class="call-page input1" (click)="previousPagePdf()">
              <img width="16px" height="16px" *ngIf="this.page1" src="assets/img/Prev.png">
              <img width="16px" height="16px" *ngIf="!this.page1" src="assets/img/Prev.png">
          </button>
      
          <input class="input1 no-focus" [(ngModel)]="pageNum" type="text" (keyup.enter)="onEnter($event)" />
          &nbsp;/&nbsp;
          <span class="page-number">{{ this.pageNumber }}</span>

          <button style="margin: 0px 8px;" class="call-page input1" (click)="onNextPage()" id="prev">
              <img width="6px" height="9px" *ngIf="this.pageLast" src="assets/img/Vector1.png">
              <img width="6px" height="9px" *ngIf="!this.pageLast" src="assets/img/Vector1.png">
          </button>
      
          <button class="call-page input1" (click)="lastPage()" id="prev">
              <img width="16px" height="16px" *ngIf="this.pageLast" src="assets/img/Last.png">
              <img width="16px" height="16px" *ngIf="!this.pageLast" src="assets/img/Last.png">
          </button>  
        </div>
    </div>

    <div (scroll)="scroll($event)" id="pdf-full" class="sample-contract__file viewer-pdf isDrag"
      style="background-color: #f3f7f9; position: relative;">
      <div id="pdf-viewer-step-3">  
        <div *ngFor="let d of this.convertToSignConfig()" class="show-list-name-drag" [style.width]="this.canvasWidth">
          <div class="resize-drag not-out-drop"
              [id]="d.id"
              style="z-index: -1;"
              #itemElement
              [ngClass]="changeColorDrag(null, d)"
              [ngStyle]="(d.sign_unit != 'chu_ky_anh' && d.sign_unit != 'chu_ky_so_con_dau_va_thong_tin') ? changePosition(d) : changePositionSignature(d)"
              *ngIf="d.type==2 || d.type==3 || (d.type!==2 && d.type!==3 && d.value)"
              >
            <div *ngIf="d.sign_unit != 'text' && d.sign_unit != 'so_tai_lieu'" class="name-sig-img-daky long-text-ellipsis">{{(d.name && !d.value) ? d.name : ''}}</div>
            <app-sign-contract style="height: 100%; padding: 4px; width: 100%;" [datas]="datasBatch" [sign]="d"></app-sign-contract>
          </div>
        </div>
        </div>
    </div>
  </div>
</div>

<!-- <div class="row footer-sample-contract" style="margin: 0px 16px;">
  <div class="col-md-9 cancel-padding" style="padding: 10px 5px;">
      <button (click)="back($event, 'determine-contract')" type="button" name="next" class="next action-button-previous">{{'btn.previous' | translate}}</button>
  </div>
  <div class="col-md-3 cancel-padding" style="display: flex; justify-content: flex-end;">
      <div class="center">
          <div>
              <button (click)="next('save_draft')" type="button" name="saveDocument" class="next draft-button">{{'btn.save-draft' | translate}}</button>
              <button (click)="next('next_step')" type="button" name="next" class="next action-button">{{'btn.next' | translate}}</button>
          </div>         
      </div>
  </div>
</div> -->

<div class="row footer-sample-contract" style="margin: 0px 16px;">
  <div class="col-md-9 cancel-padding">
    <button (click)="back($event, 'infor-contract-batch')" type="button" name="next" class="next action-button-previous">{{'btn.previous' | translate}}</button>
  </div>
  <div class="col-md-3 cancel-padding" style="display: flex; justify-content: flex-end;">
    <div class="center">
      <div>
        <button type="button" (click)="saveDraft()" name="next" class="next draft-button">{{'btn.save-draft' | translate}}</button>
        <button (click)="submit()" type="button" name="next" class="next action-button">{{'btn.next' | translate}}</button>
      </div>
    </div>
    <!-- <a style="position: relative;">
      <button type="button" (click)="saveDraft()" name="next" class="next draft-button">{{'btn.save-draft' | translate}}</button>
    </a>
    <a style="position: relative;">
      <button (click)="submit()" type="button" name="next" class="next action-button">{{'btn.next' | translate}}</button>
    </a> -->
  </div>
</div>

<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-spin-clockwise">
<p style="font-size: 18px; color: white">{{'contract.status.processing' | translate}}...</p>
</ngx-spinner>