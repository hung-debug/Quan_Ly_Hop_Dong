<div class="container-fluid">
<div class="sample-contract row" *ngIf="loaded">
  <!--  information contract-->
  <div *ngIf="!this.mobile" class="col-md-3 sample-contract__information" style="background-color: white;">
    <div class="sample-contract__information--drag" id="width-element-info" style="margin-top: 15px">
      <div style="padding-bottom: 10px; text-align: center; font-weight: bold" class="label" (click)="t()">{{'contract.detail' | translate}}</div>
      <div style="line-height: 25px">
        <div>
          <span class="title-contract">{{'contract.uid' | translate}}:</span>
          <span>{{datas?.is_data_contract?.contract_uid}}</span>
        </div>
        <div>
          <span class="title-contract">{{'menu.contract.type.list' | translate}}:</span>
          <span>{{datas?.is_data_contract?.type_name}}</span>
        </div>
        <div>
          <span class="title-contract">{{'contract.name' | translate}}:</span>
          <span>{{datas.is_data_contract.name}}</span>
        </div>
        <div>
          <span class="title-contract">{{'contract.number' | translate}}:</span>
          <span>{{datas.is_data_contract.contract_no}}</span>
        </div>
        <div style="overflow: auto; max-height: 150px;">
          <span class="title-contract">{{'file.attach' | translate}}:</span>
          <span *ngFor="let d of allFileAttachment;let i = index">
            <span *ngIf="i != 0">, </span>
            <a style="color: #106DB6" rel="stylesheet" [href]="d.path" target="_blank">{{d.filename}}</a>
          </span>
        </div>
        <div *ngIf="datas.is_data_contract.originalContractId">
          <span class="title-contract">{{'contract.original' | translate}}:</span>
          <span style="cursor: pointer; color:#106DB6" (click)="openDetailOriginalContract(this.datas.is_data_contract)">
            {{datas.is_data_contract.original_contract_name}}
          </span>
        </div>
        <div *ngIf="(datas.is_data_contract.status == 40 || datas.is_data_contract.status == 30) && ([20,30].includes(this.liquidationContractData?.status)) && ((datas.is_data_contract.liquidationContractId && datas.is_data_contract.liquidation_contract_name) || datas.is_data_contract.originalContractId)">
          <span class="title-contract">{{'contract.liquidated' | translate}}:</span>
          <span style="cursor: pointer; color:#106DB6" (click)="openDetailLiquidatedContract(this.datas.is_data_contract)">
            {{datas.is_data_contract.liquidation_contract_name}}
          </span>
        </div>
        <div>
          <span class="title-contract">{{'contract.connect' | translate}}:
          </span>
          <span *ngFor="let d of datas?.is_data_contract?.refs;let i = index">
            <span *ngIf="i != 0">, </span>
            <a style="color: #106DB6;"  [href]="d.path" target="_blank" (click)="openPdf(d.path, $event)">{{d.ref_name}}</a>
          </span>
        </div>
      </div>
    </div>
   <hr>

    <div class="location-change" [ngStyle]="changeDisplay()">
      <div class="sample-contract__information&#45;&#45;user-sign" style="line-height: 25px">
        <div style="text-align: center; font-weight: bold" class="label">{{'relate.party' | translate}}</div>
        <div *ngFor="let d of this.datas?.is_data_contract?.participants">
          <p>{{d.type != 3 ? d.name : d.recipients[0].name}}</p>
        </div>

      </div>
      <div>
        <u style="color: #106DB6; padding-right: 3px; cursor: pointer" (click)="processHandleContract()">{{'contract_processing_flow' | translate}}</u>
      </div>
    </div>
  </div>

  <!--  file content-->
  <!--  width: 74.7%-->
  <div (scroll)="scroll($event)" id="pdf-full" *ngIf="!this.mobile" class="col-md-9 sample-contract__file viewer-pdf isDrag"
       style="background-color: #F2F2F2; position: relative;">
       <div class="zoom-in-out">
        <img src="../../assets/img/minus.png" style="margin-bottom:3px;height: 30px; width: 30px;" (click)="changeScale('-')" />&nbsp;
        <input class="input-web" type="text" style="width: 50px;height: 30px" [value]="defaultValue + '%'" disabled>&nbsp;
        <img src="../../assets/img/plus.png" style="margin-bottom:3px; height: 30px; width: 30px;" (click)="changeScale('+')" />
      </div>
    <div id="pdf-viewer-step-3">
    </div>
  </div>

  <div *ngIf="this.mobile">
    <pdf-viewer [src]="pdfSrc"
    [render-text]="true"
    style="width: 95%; height: calc(70vh); border: 1px;"
    [fit-to-page]="true"
    [show-borders]="true"
    [show-all]="true"
    [(page)]="pageMobile"
    [stick-to-page]="true"
    (after-load-complete)="afterLoadComplete($event)"
    (pagechanging)="pagechanging($event)"
    ></pdf-viewer>

    <div class="flex-column" style="text-align: center;margin-top: 2px;">
      <button class="call-page" (click)="firstPageMobile()">
        <img width="14px" height="18px" *ngIf="this.page1" src="assets/img/previousbold.svg">
        <img width="14px" height="18px" *ngIf="!this.page1" src="assets/img/firstpage.svg">
      </button>
      <button class="call-page1" (click)="previousPageMobile()">
        <img width="10px" height="14px" *ngIf="this.page1" src="assets/img/firstpagebold.svg">
        <img width="10px" height="14px" *ngIf="!this.page1" src="assets/img/previous.svg">
      </button>

      <input class="input-mobile" [(ngModel)]="pageMobile" type="text"/>&nbsp;/ &nbsp;{{this.pageNumber}}

      <button class="call-page1" id="prev" (click)="onNextPageMobile()">
        <img width="10px" height="14px" *ngIf="this.pageLast" src="assets/img/next.svg">
        <img width="10px" height="14px" *ngIf="!this.pageLast" src="assets/img/nextblur.svg">
      </button>

      <button class="call-page1" id="prev" (click)="lastPageMobile()">
        <img width="14px" height="18px" *ngIf="this.pageLast" src="assets/img/lastpage.svg">
        <img width="14px" height="18px" *ngIf="!this.pageLast" src="assets/img/lastpageblur.svg">
      </button>
    </div>

    <a *ngIf="role || this.status == 30" style="position: absolute; right: 5px;">
      <button  type="button" name="next" class="next action-button" *ngIf="view && loaded && status != 4" (click)="downloadContract(idContract)">{{checkStatusUser(status, role) | translate}}</button>
      <button  type="button" name="next" class="next action-button1" *ngIf="view && loaded && status == 4">{{checkStatusUser(status, role) | translate}}</button>
    </a>
  </div>


</div>

<div class="footer-sample-contract">
  <div class="col-md-3">
  </div>
  <div class="col-md-9">
      <div *ngIf="!this.mobile" class="center" style="margin-top: 5px;">

        <a style="text-align: center">
          <button class="call-page" (click)="firstPage()">
            <img  width="16px" height="20px" *ngIf="!this.page1" src="assets/img/firstpage.svg">
            <img  width="16px" height="20px" *ngIf="this.page1" src="assets/img/previousbold.svg">
          </button>
          <button style="margin-right: 5px;" class="call-page1" (click)="previousPage()">
            <img width="12px" height="16px" *ngIf="this.page1" src="assets/img/firstpagebold.svg">
            <img width="12px" height="16px" *ngIf="!this.page1" src="assets/img/previous.svg">
          </button>

          <input class="input-web" [(ngModel)]="pageNum" type="text" (keyup.enter)="onEnter($event)" />&nbsp;/ &nbsp;{{this.pageNumber}}
          <button class="call-page1" (click)="onNextPage()" id="prev">
            <img width="12px" height="16px" *ngIf="this.pageLast" src="assets/img/next.svg">
            <img width="12px" height="16px" *ngIf="!this.pageLast" src="assets/img/nextblur.svg">
          </button>

          <button class="call-page1" (click)="lastPage()" id="prev">
            <img width="16px" height="20px" *ngIf="this.pageLast" src="assets/img/lastpage.svg">
            <img width="16px" height="20px" *ngIf="!this.pageLast" src="assets/img/lastpageblur.svg">
          </button>
        </a>

          <a *ngIf="role || this.status == 30" style="position: absolute; right: 5px;">
            <button  type="button" name="next" class="next action-button" *ngIf="view && loaded && status != 4" (click)="downloadContract(idContract)">{{checkStatusUser(status, role) | translate}}</button>
            <button  type="button" name="next" class="next action-button1" *ngIf="view && loaded && status == 4 " (click)="downloadContract(idContract)">{{checkStatusUser(status, role) | translate}}</button>
            <button  type="button" name="next" class="next action-button" (click)="endContract()">{{'end' | translate}}</button>
          </a>

          <a *ngIf="!role && this.status != 30" style="position: absolute; right: 5px;">
            <button  type="button" name="next" class="next action-button" (click)="endContract()">{{'end' | translate}}</button>
          </a>
      </div>
  </div>
</div>
</div>