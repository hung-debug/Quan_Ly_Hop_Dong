<!-- Thêm cho tổ chức -->
<div *ngIf="isOrg" class="container-fluid">
    <div class="contract-determine">
        <div class="contract--content">
            <div class="contract__content--title-doi-tac">
                <div style="width: 100px">
                    {{ "organization.partner.name" | translate | uppercase }}&nbsp;
                    <span style="color: red">*</span>
                </div>
                <input [(ngModel)]="orgCustomer.name" class="input1" type="text" />
            </div>

            <div class="contract__content--title-mst">
                <div style="width: 100px">
                    {{ "tax.code" | translate | uppercase }}&nbsp;
                    <span style="color: red">*</span>
                </div>
                <input [(ngModel)]="orgCustomer.taxCode" class="input1" type="text" />
            </div>
        </div>

        <div class="contract__content--participants">
            <!--nguoi dieu phoi-->
            <div class="participants-border">
                <div class="label">{{'user.lead' | translate}}</div>
                <div class="participants--content" *ngFor="let d of getOrganizationHandler('COORDINATOR'); let index = index">
                    <input [id]="'ordering-sign-'" class="col-md-1 contract-total" style="width: 25px; height: 25px"
                        [disabled]="getOrganizationHandler('COORDINATOR').length == 1" [(ngModel)]="d.ordering"
                        oninput="this.value = this.value.replace(/[^0-9.]/g, '', /[^\d*[.]?\d*$]/g).replace(/(\..*?)\..*/g, '$1');">
                    <div class="col-md-10 participants__content--input">
                        <div class="participants--input" style="display: flex">
                            <div class="participants__name">
                                <div class="label_detail text-color">{{'user.name' | translate}}&nbsp;<span
                                        class="required-title">:</span></div>
                                <div class="input-data">
                                    <img src="assets/img/icon_name.svg" class="input-img">
                                    <input type="text" [(ngModel)]="d.name" placeholder="{{'nhap_ho_va_ten' | translate}}">
                                </div>
                            </div>

                            <div class="participants__name">
                                <div class="label_detail text-color">Email
                                    <span class="required-title">:&nbsp;</span>
                                </div>
                                <div class="input-data">
                                    <img src="assets/img/login_email.svg" class="input-img">
                                    <input type="text" [(ngModel)]="d.email" placeholder="{{'nhap_email' | translate}}">
                                </div>
                            </div>
                        </div>

                        <div class="participants--input">
                            <div class="participants__name" style="width: 88%">
                                <div class="label_detail text-color">{{'user.phone' | translate}} -&nbsp;
                                    <div style="color: #ffc107;">({{'receive.contract.process' | translate}})</div>
                                </div>
                                <div class="input-data">
                                    <img class="input-img">
                                    <input type="text" [(ngModel)]="d.phone" placeholder="{{'nhap_sdt' | translate}}" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div *ngIf="getOrganizationHandler('COORDINATOR').length == 1" class="col-md-1 delete-element"
                    (click)="deleteOrganizationHandler(index, 'COORDINATOR')">
                        <img src="assets/img/border_close.svg" alt="close.vn">
                        <img class="close-btn" src="assets/img/x_close.svg" alt="close.vn">
                    </div>
                    <div *ngIf="getOrganizationHandler('COORDINATOR').length < 1" class="col-md-1 delete-element"></div>
                </div>
                <div *ngIf="getOrganizationHandler('COORDINATOR').length < 1" class="participants--add">
                    <u class="label text-color" (click)="addOrganizationHandler('COORDINATOR')">{{'btn.add.user.lead' | translate}}</u>
                  </div>
            </div>

            <!--nguoi xem xet-->
            <div class="participants-border">
                <div class="label">{{'user.view' | translate}}</div>
                <div class="participants--content" *ngFor="let d of getOrganizationHandler('REVIEWER'); let index = index">
                    <input [id]="'ordering-sign-'" class="col-md-1 contract-total" style="width: 25px; height: 25px"
                     [disabled]="getOrganizationHandler('REVIEWER').length > 1" [(ngModel)]="d.ordering"
                        oninput="this.value = this.value.replace(/[^0-9.]/g, '', /[^\d*[.]?\d*$]/g).replace(/(\..*?)\..*/g, '$1');">
                    <div class="col-md-10 participants__content--input">
                        <div class="participants--input" style="display: flex">
                            <div class="participants__name">
                                <div class="label_detail text-color">{{'user.name' | translate}}:&nbsp;
                                    <span style="color: red">*</span>
                                </div>
                                <div class="input-data">
                                    <img src="assets/img/icon_name.svg" class="input-img">
                                    <input type="text" [(ngModel)]="d.name" placeholder="{{'nhap_ho_va_ten' | translate}}">
                                </div>
                            </div>

                            <div class="participants__name">
                                <div class="label_detail text-color">Email:&nbsp;
                                    <span style="color: red">*</span>
                                </div>
                                <div class="input-data">
                                    <img src="assets/img/login_email.svg" class="input-img">
                                    <input type="text" [(ngModel)]="d.email" placeholder="{{'nhap_email' | translate}}">
                                </div>
                            </div>
                        </div>

                        <div class="participants--input">
                            <div class="participants__name" style="width: 88%">
                                <div class="label_detail text-color">{{'user.phone' | translate}} -&nbsp;
                                    <div style="color: #ffc107;">({{'receive.contract.process' | translate}})</div>
                                </div>
                                <div class="input-data">
                                    <img class="input-img">
                                    <input type="text" [(ngModel)]="d.phone" placeholder="{{'nhap_sdt' | translate}}" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div (click)="deleteOrganizationHandler(index,'REVIEWER')" class="col-md-1 delete-element">
                        <img src="assets/img/border_close.svg" alt="close.vn">
                        <img class="close-btn" src="assets/img/x_close.svg" alt="close.vn">
                    </div>
                </div>
                <div class="participants--add">
                    <u (click)="addOrganizationHandler('REVIEWER')" class="label text-color" style="color: #106DB6">{{'btn.add.user.view' | translate}}</u>
                </div>
            </div>

            <!--ngươi ky-->
            <div class="participants-border">
                <div class="label">{{'user.sign' | translate}}</div>
                <div class="participants--content" *ngFor="let d of this.getOrganizationHandler('SIGNER'); let index=index">
                    <input [id]="'ordering-sign-' + index" class="col-md-1 contract-total" style="width: 25px; height: 25px"
                    (focusout)="onChangeValue($event,'ordering-sign-' + index)"    
                    [(ngModel)]="d.ordering" [disabled]="getOrganizationHandler('SIGNER').length == 1"
                        oninput="this.value = this.value.replace(/[^0-9.]/g, '', /[^\d*[.]?\d*$]/g).replace(/(\..*?)\..*/g, '$1');">
                    <div class="col-md-10 participants__content--input">
                        <div class="participants--input" style="display: flex">
                            <div class="participants__name">
                                <div class="label_detail text-color">{{'user.name' | translate}}:&nbsp;
                                    <span style="color: red">*</span>
                                </div>
                                <div class="input-data">
                                    <img src="assets/img/icon_name.svg" class="input-img">
                                    <input type="text" [(ngModel)]="d.name" placeholder="{{'nhap_ho_va_ten' | translate}}">
                                </div>
                            </div>

                            <div class="participants__name">
                                <div class="label_detail text-color">Email:&nbsp;
                                    <span style="color: red">*</span>
                                </div>
                                <div class="input-data">
                                    <img src="assets/img/login_email.svg" class="input-img">
                                    <input type="text" [(ngModel)]="d.email" placeholder="{{'nhap_email' | translate}}">
                                </div>
                            </div>
                        </div>

                        <div class="participants--input">
                            <div class="participants__name">
                                <div class="label_detail text-color">{{'user.sign-type' | translate}}:&nbsp;
                                    <span style="color: red">*</span>
                                </div>
                                <ng-multiselect-dropdown [(ngModel)]="d.signType" placeholder="{{'choose' | translate }}"
                                [settings]="dropdownSignTypeSettings" [data]="this.getListSignType('org')"
                                (ngModelChange)="selectWithOtp($event, d, 'organization')">
                                <ng-template #optionsTemplate let-item let-option="option" let-id="id" let-isSelected="isSelected">
                                  <div style="padding: 1px 10px; margin-right: 10px; right: 2px; top: -2px;">
                                    <label style="color: #333; font-weight: normal;"
                                      [ngStyle]="{ 'font-weight': isSelected? 'bold':' normal'}">
                                    </label>
                                  </div>
                                </ng-template>
                              </ng-multiselect-dropdown>
                            </div>
                            <div class="participants__name">
                                <div class="label_detail text-color">{{'user.phone' | translate}}:&nbsp;
                                    <span style="color: red">*&nbsp;</span>-&nbsp;
                                    <div style="color: #ffc107;">({{'receive.contract.process' | translate}})</div>
                                </div>
                                <div class="input-data">
                                    <img class="input-img">
                                    <input type="text" [(ngModel)]="d.phone" placeholder="{{'nhap_sdt' | translate}}" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div *ngIf="getOrganizationHandler('SIGNER').length > 1" class="col-md-1 delete-element"
                        (click)="deleteOrganizationHandler(index, 'SIGNER')">
                        <img src="assets/img/border_close.svg" alt="close.vn">
                        <img class="close-btn" src="assets/img/x_close.svg" alt="close.vn">
                    </div>
                    <div *ngIf="getOrganizationHandler('SIGNER').length <=1" class="col-md-1 delete-element">

                    </div>
                </div>
                <div class="participants--add">
                    <u class="label text-color" style="color: #106DB6"
                    (click)="addOrganizationHandler('SIGNER')">{{'btn.add.user.sign' | translate}}</u>
                </div>
            </div>

            <!--van thu-->
            <div class="participants-border">
                <div class="label">{{'user.doc' | translate}}</div>
                <div class="participants--content" *ngFor="let d of getOrganizationHandler('ARCHIVER'); let index = index">
                    <input [id]="'ordering-sign-'" class="col-md-1 contract-total" style="width: 25px; height: 25px"
                        [disabled]="getOrganizationHandler('ARCHIVER') == 1" [(ngModel)]="d.ordering"
                        oninput="this.value = this.value.replace(/[^0-9.]/g, '', /[^\d*[.]?\d*$]/g).replace(/(\..*?)\..*/g, '$1');">
                    <div class="col-md-10 participants__content--input">
                        <div class="participants--input" style="display: flex">
                            <div class="participants__name">
                                <div class="label_detail text-color">{{'user.name' | translate}}:&nbsp;
                                    <span style="color: red">*</span>
                                </div>
                                <div class="input-data">
                                    <img src="assets/img/icon_name.svg" class="input-img">
                                    <input [(ngModel)]="d.name" type="text" placeholder="{{'nhap_ho_va_ten' | translate}}">
                                </div>
                            </div>

                            <div class="participants__name">
                                <div class="label_detail text-color">Email:&nbsp;
                                    <span style="color: red">*</span>
                                </div>
                                <div class="input-data">
                                    <img src="assets/img/login_email.svg" class="input-img">
                                    <input type="text" [(ngModel)]="d.email" placeholder="{{'nhap_email' | translate}}">
                                </div>
                            </div>
                        </div>

                        <div class="participants--input">
                            <div class="participants__name">
                                <div class="label_detail text-color">{{'user.sign-type' | translate}}:&nbsp;
                                    <span style="color: red">*</span>
                                </div>
                                <ng-multiselect-dropdown [(ngModel)]="d.signType" placeholder="{{'choose' | translate }}"
                                [settings]="dropdownSignTypeSettings" [data]="this.getListSignType('org')"
                                (ngModelChange)="selectWithOtp($event, d, 'organization')">
                                <ng-template #optionsTemplate let-item let-option="option" let-id="id" let-isSelected="isSelected">
                                  <div style="padding: 1px 10px; margin-right: 10px; right: 2px; top: -2px;">
                                    <label style="color: #333; font-weight: normal;"
                                      [ngStyle]="{ 'font-weight': isSelected? 'bold':' normal'}">
                                    </label>
                                  </div>
                                </ng-template>
                              </ng-multiselect-dropdown>
                            </div>
                            <div class="participants__name">
                                <div class="label_detail text-color">{{'user.phone' | translate}}:&nbsp;
                                    <span style="color: red">*&nbsp;</span>-&nbsp;
                                    <div style="color: #ffc107;">({{'receive.contract.process' | translate}})</div>
                                </div>
                                <div class="input-data">
                                    <img class="input-img">
                                    <input type="text" [(ngModel)]="d.phone" placeholder="{{'nhap_sdt' | translate}}" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div (click)="deleteOrganizationHandler(index, 'ARCHIVER')" class="col-md-1 delete-element">
                        <img src="assets/img/border_close.svg" alt="close.vn">
                        <img class="close-btn" src="assets/img/x_close.svg" alt="close.vn">
                    </div>
                </div>
                <div class="participants--add">
                    <u class="label text-color" style="color: #106DB6"
                    (click)="addOrganizationHandler('ARCHIVER')">{{'btn.add.user.doc' | translate}}</u>
                </div>
            </div>
            <div class="footer-btn">
                <button (click)="onCancel()">{{"btn.cancel" | translate}}</button>
                <button (click)="submit()" class="update-btn">{{"btn.save" | translate}}</button>
            </div>
        </div>

    </div>
</div>


<!-- Thêm cá nhân -->
<div *ngIf="!isOrg" class="container-fluid">
    <div class="contract-determine">

        <div class="contract__content--participants">

            <!--ngươi ky-->
            <div class="participants-border">
            <div class="dropdown-header">
                <div class="label">{{'user.sign' | translate}}</div>
            </div>
                <div class="participants--content">
                    <!-- <input [id]="'ordering-sign-'" class="col-md-1 contract-total" style="width: 25px; height: 25px"
                        type="number" [disabled]="1"
                        oninput="this.value = this.value.replace(/[^0-9.]/g, '', /[^\d*[.]?\d*$]/g).replace(/(\..*?)\..*/g, '$1');"> -->
                    <div class="col-md-10 participants__content--input">
                        <div class="participants--input" style="display: flex">
                            <div class="participants__name">
                                <div class="label_detail text-color">{{'user.name' | translate}}:&nbsp;
                                    <span style="color: red">*</span>
                                </div>
                                <div class="input-data">
                                    <img src="assets/img/icon_name.svg" class="input-img">
                                    <input type="text" [(ngModel)]="this.personalCustomer.name" placeholder="{{'nhap_ho_va_ten' | translate}}">
                                </div>
                            </div>

                            <div class="participants__name">
                                <div class="label_detail text-color">Email:&nbsp;
                                    <span style="color: red">*</span>
                                </div>
                                <div class="input-data">
                                    <img src="assets/img/login_email.svg" class="input-img">
                                    <input type="text" [(ngModel)]="this.personalCustomer.email" placeholder="{{'nhap_email' | translate}}">
                                </div>
                            </div>
                        </div>

                        <div class="participants--input">
                            <div class="participants__name">
                                <div class="label_detail text-color">{{'user.sign-type' | translate}}:&nbsp;
                                    <span style="color: red">*</span>
                                </div>
                                <ng-multiselect-dropdown [(ngModel)]="this.personalCustomer.signType" placeholder="{{'choose' | translate }}"
                                [settings]="dropdownSignTypeSettings" [data]="this.getListSignType('personal')"
                                (ngModelChange)="selectWithOtp($event, this.personalCustomer, 'organization')">
                                <ng-template #optionsTemplate let-item let-option="option" let-id="id" let-isSelected="isSelected">
                                  <div style="padding: 1px 10px; margin-right: 10px; right: 2px; top: -2px;">
                                    <label style="color: #333; font-weight: normal;"
                                      [ngStyle]="{ 'font-weight': isSelected? 'bold':' normal'}">
                                    </label>
                                  </div>
                                </ng-template>
                              </ng-multiselect-dropdown>
                            </div>
                            <div class="participants__name">
                                <div class="label_detail text-color">{{'user.phone' | translate}}:&nbsp;
                                    <span style="color: red">*&nbsp;</span>-
                                    <div style="color: #ffc107;">&nbsp;({{'receive.contract.process' | translate}})</div>
                                </div>
                                <div class="input-data">
                                    <img class="input-img">
                                    <input type="text" [(ngModel)]="this.personalCustomer.phone" placeholder="{{'nhap_sdt' | translate}}" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- <div class="col-md-1 delete-element">
                        <img src="assets/img/border_close.svg" alt="close.vn">
                        <img class="close-btn" src="assets/img/x_close.svg" alt="close.vn">
                    </div> -->
                </div>
            </div>
            <div class="footer-btn">
                <button (click)="onCancel()">{{"btn.cancel" | translate}}</button>
                <button (click)="submit()" class="update-btn">{{"btn.save" | translate}}</button>
            </div>
        </div>

    </div>
</div>
<ngx-spinner></ngx-spinner>
