/*
  Complete SCSS for the Certificate Dialog Component

  Using :host and :host ::ng-deep to ensure styles are applied.
  Added flex-grow to .cert-dialog-content to make it fill available vertical space.
*/

// Style the dialog title
:host .label-header {
  text-align: center;
  color: #002060; /* Blue color for the title */
  font-size: 1.6em;
  font-weight: bold;
  padding-bottom: 15px;
  //border-bottom: 1px solid #eee;
}

// Style the main content area
:host .cert-dialog-content {
  padding: 0 20px;
  max-height: 400px; /* Adjust as needed, but flex-grow helps manage space */
  overflow-y: auto; /* Enable vertical scrolling if content exceeds max-height or dialog size */
  padding-top: 10px;
  flex-grow: 1; /* <--- NEW: Make this flex item grow to fill space */
  // align-self: stretch; // Optional: Ensure it stretches horizontally if needed
  display: flex; // Optional: Use flex for its own children layout if needed later
  flex-direction: column; // Optional: If .cert-dialog-content needs its own column layout
}

// Style the message when no certificates are found
:host .no-cert-message {
  text-align: center;
  color: #666;
  margin-top: 20px;
  padding: 15px;
  background-color: #f8f9fa;
  border-radius: 4px;
  // If .cert-dialog-content is flex column, you might need:
  // flex-shrink: 0; // Prevent shrinking if content fits but message is large
}


// --- Styles for the PrimeNG Table (Desktop View) ---
// Use :host ::ng-deep to target the internal PrimeNG table structure
:host .web-table-container {
    border: 1px solid #ddd;
    border-radius: 4px;
    overflow: hidden; // Hides border overflow at corners
    flex-grow: 1; /* <--- NEW: Make table container grow within cert-dialog-content */
    display: flex; /* <--- NEW: Make table container a flex container */
    flex-direction: column; /* <--- NEW: Stack table elements vertically */
}

// Ensure scrollable-content class on container works well with flex
:host .web-table-container.scrollable-content {
    // max-height is less relevant when using flex-grow for filling space
    // overflow-y: auto; // Already there, ensures scrolling
}


// Now, use ::ng-deep to style the PrimeNG elements *within* the host component
:host ::ng-deep .p-datatable {
  border: none;
  width: 100%;
  border-collapse: collapse;
  margin: 0;
  display: flex; /* <--- NEW: PrimeNG table itself should be a flex container */
  flex-direction: column; /* <--- NEW: Stack table header and body vertically */
  flex-grow: 1; /* <--- NEW: Table should grow within its container */


  /* Header styles */
  .p-datatable-thead { // Target thead wrapper
     flex-shrink: 0; // Prevent header from shrinking
     background-color: transparent; // White background for header row (as per image)
    tr {
      th {
        padding: 10px 15px;
        text-align: center; /* Center ALL header text as per image */
        font-weight: bold;
        color: #002060; /* Blue text color for ALL headers as per image */
        background-color:#ebf2fb ; /* White background for header row (as per image) */
        border-bottom: none;
        border-right: 1px solid #ddd; /* Add right border for column dividers */
        &:first-child {
            border-left: none;
        }
        &:last-child {
          border-right: none;
        }
      }
    }
  }


  /* Body styles */
  .p-datatable-tbody { // Target tbody wrapper
      overflow-y: auto; /* <--- IMPORTANT: Make the table body scrollable */
      flex-grow: 1; /* <--- NEW: Table body should grow and handle scrolling */
      // max-height: none; // Reset any potential max-height from theme
      tr {
        td {
          padding: 10px 15px;
          vertical-align: middle;
          border-bottom: 1px solid #eee; /* Light grey line as row separator */
          border-right: 1px solid #eee; /* Add right border for column dividers */
          word-break: break-word; /* Prevent long text from overflowing */

           &:first-child {
              border-left: none;
          }
          &:last-child {
             border-right: none;
          }
        }
        &:last-child td {
          border-bottom: none; /* No bottom border on the last row */
        }
      }
  }


  /* Specific column styles */
  th.cert-select-header, td.cert-select-cell {
    width: 60px; /* Adjust width as needed */
    text-align: center; /* Center the content */
  }

   td.cert-select-cell input[type="radio"] {
      cursor: pointer;
      vertical-align: middle; // Help align radio button vertically
   }
}


// --- Styles for the Mobile View ---
// Mobile container also needs flex-grow
:host .mobile-cert-container {
    padding: 0 10px;
    flex-grow: 1; /* <--- NEW: Mobile container should grow */
    display: flex; /* <--- NEW: Make mobile container flex */
    flex-direction: column; /* <--- NEW: Stack mobile items vertically */
}

// Ensure scrollable-content class on mobile container works with flex
:host .mobile-cert-container.scrollable-content {
     // max-height is less relevant with flex-grow
     overflow-y: auto; // Already there, ensures scrolling
}


:host .mobile-header {
    display: flex;
    font-weight: bold;
    padding: 10px 0;
    border-bottom: 1px solid #ddd;
    margin-bottom: 10px;
    color: #007bff;
    align-items: center;
    flex-shrink: 0; // Prevent header from shrinking
}

// Mobile items and their details might also benefit from flex properties
// to manage spacing and alignment within the scrolling container
:host .mobile-item {
    display: flex;
    padding: 10px 0;
    border-bottom: 1px solid #eee;
    &:last-child {
        border-bottom: none;
    }
    flex-shrink: 0; // Prevent individual items from shrinking
}

:host .mobile-radio-choose {
    // flex-basis: 60px;
    padding: 0 10px;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    padding-left: 2px;
}

:host .mobile-info-details {
    flex-grow: 1;
    padding-left: 10px;
    display: flex; // Make details container flex
    flex-direction: column; // Stack info rows vertically
}

:host .mobile-info-row {
    display: flex;
    margin-bottom: 5px;
    &:last-child {
        margin-bottom: 0;
    }
    // Optional: Align label and value vertically if needed
    // align-items: center;
}

:host .mobile-info-label {
    font-weight: bold;
    margin-right: 5px;
    flex-basis: 90px;
    flex-shrink: 0;
    color: #0041C4;
}

:host .mobile-info-value {
    flex-grow: 1;
    word-break: break-word;
}
.serial-number {
    color: #01153d;
    font-weight: bold;
}

// --- Styles for the Action Buttons ---
// This container is likely not meant to grow, it stays at the bottom
:host .dialog-actions-container {
  padding: 15px 20px 20px 20px;
  display: flex;
  justify-content: center; /* Center buttons horizontally */
  gap: 10px; // Space between buttons
  //border-top: 1px solid #eee;
  margin-top: 15px;
  flex-shrink: 0; // Prevent actions section from shrinking
}

:host .cancel-button, :host .confirm-button {
  padding: 8px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 1em;
  min-width: 100px;
  transition: background-color 0.2s ease;
  text-align: center;
  display: inline-block;
}

:host .cancel-button {
  font-weight: bold;
  background-color: #ffffff;
  border: 1px solid #ccc;
  color: #333;
  &:hover {
    background-color: #bbb;
  }
}

:host .confirm-button {
  font-weight: bold;
  background-color: #0041C4;
  color: white;
  &:hover {
    background-color: #0056b3;
  }
  &:disabled {
    background-color: #e9ecef;
    color: #6c757d;
    cursor: not-allowed;
  }
}