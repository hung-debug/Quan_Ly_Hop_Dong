<div>
  <div class="row">
    <!--Tổ chức-->
    <div class="col-md-2">
          <div>{{'organization' | translate}}</div>
          <div class="input-line">
          <p-treeSelect #nameContract
              [(ngModel)]="selectedNodeOrganization"
              [filter]="true"
              filterBy="name"
              [droppable]="true"
              [options]="listOrgCombobox"
              (onNodeSelect)="changeOrg()"
          >
        </p-treeSelect>
          </div>
      </div>

    <div class="col-md-2">
      <div>{{'contract.information' | translate}}</div>
      <div class="input-line">
        <input type="text" [(ngModel)]="inforContract" class="input_text" placeholder="Mã HĐ, Số HĐ, Tên HĐ" />
      </div>
    </div>

    <!--Thời gian gửi-->
    <div class="col-md-2">
      <div>{{ 'time.send.date' | translate}}
        <!-- <span style="color: red"> *</span> -->
      </div>
      <div class="input-line">
        <p-calendar selectionMode="range" [readonlyInput]="true" [(ngModel)]="date" [showIcon]="true"
          dateFormat="dd/mm/yy"></p-calendar>
      </div>
    </div>


    <!--Button-->
    <div class="col-md-4 btn_search">
      <button class="btn btn-lg btn-block btn_submit" (click)="export(false)">{{'btn.report' | translate }}</button>
      <button class="btn btn-lg btn-block btn_submit" (click)="export(true)">Export</button>
    </div>
  </div>


  <!--Bảng dữ liệu-->
  <div class="row" style="padding-top: 30px;">
    <p-table #dt [value]="list" [paginator]="true" [rows]="10" id="table" [autoLayout]="true"
    [totalRecords]="this.totalRecords" [(first)]="this.first">

      <!--header-->
      <ng-template pTemplate="header">
        <!--header 1-->
        <tr>
          <th *ngFor="let col of cols" [style]='col.style' [colSpan]="col.colspan" [rowSpan]="col.rowspan">
            {{col.header | translate}}
          </th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-list let-row="rowIndex">
        <tr>
          <ng-container *ngIf="row > 0">
            <td>{{list}}</td> <!--mã hđ-->
            <td>{{list}}</td>  <!--số hđ-->
            <td>{{list}}</td> <!--Tên HĐ-->
            <td>{{list}}</td> <!--SĐT-->
            <td style="text-align: center; ">
              <img ngbTooltip="{{'content' | translate}}" src="../../../assets/img/icon_file_sms.svg" width="20px" (click)="contentSMS(list.id)" style="cursor: pointer;"/>
            </td>
            <td>{{this.convertTime(list)}}</td> <!--Thời gian gửi-->
            <td>{{list}}</td> <!--Trạng thái gửi-->
          </ng-container>
        </tr>
      </ng-template>

      <ng-template pTemplate="paginatorleft" let-state>
        <span style="color: white !important;">{{'chart.number' | translate}}: {{state.totalRecords > 0 ? state.first+1 : state.first}} - {{(state.first+state.rows)> state.totalRecords ? state.totalRecords : state.first+state.rows}} / {{state.totalRecords}}</span>
      </ng-template>
      <ng-template pTemplate="paginatorright" let-state>
        <span style="color: #0160AE !important;">{{'chart.number' | translate}}: {{state.totalRecords > 0 ? state.first+1 : state.first}} - {{(state.first+state.rows)> state.totalRecords ? state.totalRecords : state.first+state.rows}} / {{state.totalRecords}}</span>
      </ng-template>
    </p-table>
  </div>
</div>

<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-spin-clockwise">
  <p style="font-size: 18px; color: white">{{'sys.processing' | translate}}...</p>
</ngx-spinner>
