<div class="container-fluid" id="dialog-content">
    <div style="text-align: center; font-weight: bold">
      <h3 style="color: #106DB6; font-family: inherit;text-transform: uppercase;">{{ title | translate}}</h3>
    </div>
    <div class="row">
        <div class="search-row">
            <div class="contract-type">
              <div class="label-input">{{'folder.type.contract' | translate}}&nbsp;<span style="color: red">*</span></div>
              <p-treeSelect class="md:w-20rem w-full" containerStyleClass="w-full" style="width: 100%!important" 
              [(ngModel)]="selectedContractType" [options]="contractTypes" placeholder="Chọn hợp đồng" scrollHeight="200px" [showClear]="showClearValue" (ngModelChange)="chooseContractType()" selectionMode="single"
              >
              </p-treeSelect>
            </div>
        
            <div class="contract-name">
                <div class="label-input">Từ khóa tìm kiếm&nbsp;</div>
                <div class="input-data-name"><input type="text border" [readonly]="this.action == 'openDetail'" [(ngModel)]="filter_name" placeholder="Tìm kiếm theo tên hợp đồng"></div>
              </div>
            <div class="contract-button">
                <div class="label-input">&nbsp;</div>
                <div class="search-btn"(click)="filterContract()">Tìm kiếm</div>
            </div>
          </div>
    </div>

    <div class="col-md-4" class="container-fluid">
      <ng-template [ngIf]="isOrg">
  
          <div class="row list_header" *ngIf="pageTotal > 0;">
              <div class="col-md-5"></div>
              <div class="col-md-2">{{'create-date' | translate}}</div>
              <div class="col-md-2">{{'expiration-date' | translate}}</div>

              <div class="col-md-2 item_icon" [style.margin-left.px]="scroll ? -10 : 0">
                <input id="allDownload" name="allDownload" type="checkbox" [(ngModel)]="checkedAll" (click)="toggleAll(checkedAll)"/>
            </div>
          </div>
          
          <div id="contract-list" #scrollableDiv>
            <div class="item_contract" *ngFor="let item of contracts | paginate:{itemsPerPage: page, currentPage:p1, totalItems: pageTotal, id: 'p1'}">
                <div class="row">
                    <!--Cột 1-->
                    <div class="col-md-5">
                        <div class="row">
                            <div class="col-md-11">
                                <div class="item_contract_name">
                                    <a *ngIf="!(this.parentId == 2 && this.status != -1)" class="item_contract_name" style="text-decoration: none;">
                                        {{item.name}}
                                    </a>
                                    <a *ngIf="(this.parentId == 2 && this.status != -1)" class="item_contract_name" style="text-decoration: none;">
                                        {{item.participant.contract.name}}
                                    </a>
                                </div>
    
                                <div class="row" *ngFor="let itemPar of sortParticipant(item); let index = index">
                                        <div class="item_contract_infor">{{'side' | translate}} {{getNameOrganization(itemPar, index)}}
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="item_contract_infor">{{'contract.status' | translate}}:
                                        <span class="status_blue">{{this.status | pipe | translate}}
                                            {{getNameStatusCeca(item.status, item.ceca_push, item.ceca_status) |
                                            translate}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
    
                    <!--Cột 2: Ngày tạo-->
                    <div class="col-md-2 calendar_create">
                        <div><i class="fa fa-calendar fa_icon"></i><span class="item_date">{{ getCreatedDate(item) | date:
                                'dd/MM/yyyy HH:mm'}}</span></div>
                    </div>
    
                    <!--Cột 3: Ngày hết hạn ký-->
                    <div class="col-md-2 calendar_deadline">
                        <div style="display: flex; justify-content: center;">
                            <div class="div_icon"><i class="fa fa-calendar fa_icon"></i><span class="item_date">{{ getSignTime(item) | date:
                                    'dd/MM/yyyy'}}</span></div>
                        </div>
                    </div>
    
                    <!--Cột 5: Input checkbox-->
                    <div class="col-md-2 item_icon">
                        <div style="display: flex; justify-content: center;">
                            <div class="div_icon">
                                <!-- <div class="col-md-1 calendar_create"> -->
                                    <div>
                                        <input [(ngModel)]="item.checked" name="item" type="checkbox" value="{{item.contractId}}" (change)="selectContract(item)" />
                                    </div>
                                <!-- </div> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
          </div>
  
          <div *ngIf="pageTotal == 0" style="height: 100px;display: table;top: 0;left: 0;width: 100%;text-align: center;padding-top: 50px;">
              <div style="display: table-cell;vertical-align: middle;">
                  <img src="../../../assets/img/empty_data.svg" />
                  <div style="color: #94A7C6">{{'no.data' | translate}}</div>
              </div>
          </div>
  
          <div class="contract_footer">
              <!-- <div class="footer_contract_per_page">
                  <div>Hiển thị&nbsp;</div>
                  <select [(ngModel)]="this.page" (change)="changePageNumber($event)">
                      <option value="" hidden>{{this.page}}</option>
                      <option *ngFor="let d of this.pageOptions">{{d}}</option>
                  </select>
                  <div>&nbsp;{{'contracts.per.page' | translate}}</div>
              </div> -->
              <div class="footer_title">
              </div>
              <div class="footer_pagination">
                  <pagination-controls id="p1" *ngIf="pageTotal > 0;" (pageChange)="p1=$event; getContractList()" previousLabel="" nextLabel=""></pagination-controls>
              </div>
              <div class="footer_page_number">{{'chart.number' | translate}}: {{this.getPageStartEnd()}} / {{pageTotal}} 
              </div>
          </div>
      </ng-template>
  
      <div>{{roleMess | translate}}</div>
  </div>

    <div class="footer" style="justify-content: center">
        <div style="display:flex; justify-content: center;">
            <button class="cancel-button" (click)="dialog.closeAll()" type="button">{{'btn.close' | translate}}</button>
            <button class="save-button" (click)="submit()" type="button">{{'btn.save' | translate}}</button>
        </div>
  </div>
  
  </div>